(this["webpackJsonpcit382-p6"]=this["webpackJsonpcit382-p6"]||[]).push([[0],{22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(12),i=n(4),r=n(30),o=(n(22),n(13)),s=n(1);function l(e){var t=e.data,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],l=a[1],d=Object(c.useState)(""),j=Object(i.a)(d,2),u=j[0],h=j[1],b=Object(c.useState)("current-location"),O=Object(i.a)(b,2),x=O[0],p=O[1],m=Object(c.useState)([{name:"Seattle",latitude:47.6062,longitude:-122.3321},{name:"Portland",latitude:45.5152,longitude:-122.6784},{name:"San Fransisco",latitude:37.7749,longitude:-122.4194},{name:"Los Angeles",latitude:34.0522,longitude:-118.2437},{name:"San Diego",latitude:32.7157,longitude:-117.1611}]),v=Object(i.a)(m,2),g=v[0],f=v[1];return Object(c.useEffect)((function(){navigator.geolocation&&"current-location"===x&&navigator.geolocation.getCurrentPosition((function(e){l(e.coords.latitude),h(e.coords.longitude)}),(function(e){console.error(e),e.code===e.PERMISSION_DENIED&&alert("Location denied. Please enter your location manually.")}))}),[x]),Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r&&u?e.onSearch(r,u):alert("Request failed. Enter valid latitude and longitude.")},children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("label",{children:["Latitude:",Object(s.jsx)("input",{type:"text",value:r,onChange:function(e){return l(e.target.value)}})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{children:["Longitude:",Object(s.jsx)("input",{type:"text",value:u,onChange:function(e){return h(e.target.value)}})]})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("label",{children:["Select a preset location:",Object(s.jsxs)("select",{value:x,onChange:function(e){p(e.target.value);var t=g.find((function(t){return t.name===e.target.value}));t&&(l(t.latitude),h(t.longitude))},children:[Object(s.jsx)("option",{value:"currentLocation",children:"Current Location"}),g.map((function(e){return Object(s.jsx)("option",{value:e.name,children:e.name},e.name)}))]})]})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"submit",children:"Search"}),Object(s.jsx)("button",{onClick:function(){if(r&&u){var e={name:t?t.name:"Preset ".concat(g.length+1),latitude:r,longitude:u};f([].concat(Object(o.a)(g),[e])),p(e.name)}else alert("Please enter a valid location before saving preset.")},children:"Save Preset"})]})]})})}function d(e){var t=e.data;if(!t)return null;if(!t.main)return null;var n="http://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png");return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:n,alt:"weather icon",className:t.icon}),Object(s.jsxs)("h1",{children:[Math.round(t.main.temp),"\xb0F"]}),Object(s.jsx)("h3",{children:t.name}),Object(s.jsx)("p",{children:Object(s.jsx)("i",{children:t.weather[0].description})})]}),Object(s.jsxs)("div",{className:"dataInfo",children:[Object(s.jsxs)("h3",{children:[t.main.pressure," hPa"]}),Object(s.jsx)("p",{children:"Pressure"}),Object(s.jsxs)("h3",{children:[t.main.humidity,"%"]}),Object(s.jsx)("p",{children:"Humidity"}),Object(s.jsxs)("h3",{children:[Math.round(t.wind.speed)," mph"]}),Object(s.jsx)("p",{children:"Wind Speed"}),Object(s.jsxs)("h3",{children:[t.wind.deg,"\xb0"]}),Object(s.jsx)("p",{children:"Wind Direction"})]}),Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:Object(s.jsxs)("i",{children:["Reporting Time: ",new Date(1e3*t.dt).toLocaleTimeString()]})})})]})}function j(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsx)("h2",{children:"CIT382 - Project 6"}),Object(s.jsx)("div",{className:"search",children:Object(s.jsx)(l,{onSearch:function(e,t){var n="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat("aa6b85362237e088c2909a1d9d3faa5c","&units=imperial");r.a.get(n).then((function(e){a(e.data)})).catch((function(e){console.error(e),alert("Request failed with status code 400.")}))}})}),Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"data",children:Object(s.jsx)(d,{data:n})})})]})}var u=document.getElementById("root");Object(a.createRoot)(u).render(Object(s.jsx)(c.StrictMode,{children:Object(s.jsx)(j,{})}))}},[[28,1,2]]]);
//# sourceMappingURL=main.eb058562.chunk.js.map